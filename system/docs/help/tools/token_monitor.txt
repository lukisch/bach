BACH Tool: token_monitor
==================================================
Generiert: 2026-01-23 10:36
Aktualisiert: 2026-02-05 (Help-Forensik)
Quelle: tools/token_monitor.py

BESCHREIBUNG
----------------------------------------
BACH Token Monitor
==================
Funktion get_token_zone() zur Token-aware Delegation.

Zonen-Definition (aus DELEG_002):
- Zone 1: 0-70%   - Alle Partner verfuegbar
- Zone 2: 70-85%  - Mittlere Sparsamkeit
- Zone 3: 85-95%  - Nur lokale Partner (Ollama)
- Zone 4: 95-100% - Notfall-Delegation

Version: 1.0.0
Erstellt: 2026-01-23
Task: DELEG_001

VERWENDUNG
----------------------------------------
Hauptbefehl (empfohlen):
  bach --tokens status         - Zeigt Token-Statistiken und aktuelle Zone

Direktaufruf:
  python tools/token_monitor.py [args]

Hinweis: Der Befehl "bach tools run token_monitor" ist aktuell nicht
im Tool-Registry registriert. Nutze stattdessen "bach --tokens status".

VERFUEGBARE FUNKTIONEN
----------------------------------------
get_token_zone()           - Hauptfunktion fuer Zone-Ermittlung
get_current_budget_percent() - Holt aktuelles Budget aus DB
log_token_check()          - Loggt Token-Check in DB
log_ollama_usage()         - Spezialisiert fuer Ollama-Tokens
check_emergency_shutdown() - Prueft ob kritischer Verbrauch (95%+) erreicht
format_zone_status()       - Formatiert CLI-Ausgabe

HINWEISE
----------------------------------------
- Bei Fragen: bach tools show token_monitor
- Datenbank-Tabelle: monitor_tokens (17 Spalten)
