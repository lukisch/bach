# Portabilitaet: SYSTEM
# Zuletzt validiert: 2026-02-08 (Claude)
# Naechste Pruefung: 2026-05-08
# Ressourcen: [partner_recognition, connections, messages, delegation_rules tables]

PARTNERS - Kommunikations-Partner Profile
=========================================

STAND: 2026-02-08

Das Partner-System (Schicht 5) orchestriert die Zusammenarbeit zwischen 
menschlichen Usern, lokalen Modellen (Ollama) und externen Agenten (Claude, Gemini).

PARTNER-UEBERSICHT (Snapshot)
-----------------------------
| ID  | Partner        | Typ          | Workspace / Backend            |
|-----|----------------|--------------|--------------------------------|
| 001 | User           | Human        | User/MessageBox/               |
| 002 | Claude         | AI           | partners/claude/       |
| 003 | Ollama         | Local AI     | 127.0.0.1:11434                |
| 004 | Gemini         | Agent        | Antigravity (Local)            |
| 006 | PubMed         | MCP API      | Research-Server                |

PARTNER-FOKUS: GEMINI
---------------------
- BACKEND: Antigravity (Google DeepMind Toolchain).
- STARTER: `system/partners/gemini/start_gemini.bat`
- WORKSPACE: `system/partners/gemini/` (Inbox/Outbox Modell).
- REGELN: Siehe `system/partners/gemini/GEMINI.md`

PARTNER-FOKUS: CLAUDE
---------------------
- BACKEND: Anthropic Sonnet (via Claude Desktop/MCP).
- ROLE: Operating AI (Orchestrator).
- WORKSPACE: `system/partners/claude/`

KOORDINATION via MESSAGES
-------------------------
Partner kommunizieren über das `messages` System (bach.db).
Befehle:
  bach msg send <recipient> "text" --from <sender>
  bach msg list --inbox     (Inbox anzeigen)
  bach msg unread           (Ungelesene anzeigen)
  bach msg read <id>        (Nachricht lesen)

DIENSTE & TABELLEN (bach.db)
----------------------------
- `partner_recognition`: Partner-Profile (Tools, Capabilities, Zonen)
- `connections`: Technische Endpunkte (API Keys, URLs)
- `messages`: Persistent Chat-Historie (Inbox/Outbox)
- `delegation_rules`: Token-basierte Delegations-Zonen

KOMMUNIKATIONS-HYGIENE
----------------------
1. Jede Session beginnt mit `bach --startup`
2. Tasks prüfen: `bach task list --assigned <partner>`
3. Ergebnisse in `outbox/` ablegen (z.B. REPORT_*.md)
4. Tasks erledigen: `bach task done <id> "Notiz"`
5. Nachrichten senden: `bach msg send <to> "text" --from <sender>`

SIEHE AUCH
----------
  docs/docs/docs/help/partner.txt                     Delegations-Logik und Rollen
  docs/docs/docs/help/communicate.txt                 Interaktions-Protokoll
  docs/docs/docs/help/messages.txt                    Nachrichten-Syntax
  system/partners/_README.md   Struktur des Partner-Ordners

CLI-ZUGRIFF
-----------
  bach --partner list                  Alle Partner auflisten
  bach --partner status                Status-Übersicht
  bach --partner info <name>           Partner-Details
  bach --partner delegate <task>       Task delegieren (Token-aware)
  bach --connections list              Connection-Registry
  bach msg list                        Nachrichten anzeigen
