# Portabilitaet: UNIVERSAL
# Version: 1.1.0
# Zuletzt validiert: 2026-02-08 (Forensik - Export + erweiterte Felder hinzugefuegt)
# Naechste Pruefung: 2026-08-08

CONTACT - Kontaktverwaltung
===========================

BESCHREIBUNG:
  Verwaltet persoenliche und geschaeftliche Kontakte mit Freitextsuche,
  Kontext-Filterung und Geburtstags-Uebersicht. Kontakte werden per
  Soft-Delete deaktiviert (nicht geloescht).

BEFEHLE:
  bach contact list              Alle aktiven Kontakte anzeigen
  bach contact list --all        Inkl. inaktive Kontakte
  bach contact list -c privat    Nach Kontext filtern
  bach contact search <term>     Freitextsuche (Name, Email, Telefon, Firma, Notizen, Tags)
  bach contact add "Name"        Neuen Kontakt anlegen
  bach contact show <id>         Kontakt-Details anzeigen
  bach contact edit <id>         Kontakt bearbeiten
  bach contact delete <id>       Kontakt deaktivieren (Soft-Delete)
  bach contact birthday          Geburtstage (naechste 30 Tage)
  bach contact birthday 90       Geburtstage (naechste 90 Tage)
  bach contact export            Alle Kontakte exportieren (Text/CSV/vCard)
  bach contact export --type arzt --format csv  Arzt-Kontakte als CSV
  bach contact export --format vcard --file out.vcf  vCard-Export in Datei
  bach contact help              Diese Hilfe

OPTIONEN FUER ADD/EDIT:
  --context, -c   Kontext (privat|beruflich|versicherung|finanzen|arzt|sonstige)
  --email, -e     E-Mail-Adresse
  --phone, -p     Telefon (Festnetz)
  --mobile, -m    Mobilnummer
  --address, -a   Adresse
  --birthday, -b  Geburtstag (DD.MM.YYYY oder YYYY-MM-DD)
  --company       Firma/Organisation
  --position      Position/Rolle im Unternehmen
  --tags          Tags kommagetrennt (z.B. "dev,it,freelance")
  --note          Notiz (bei edit: wird an bestehende Notizen angehaengt)
  --name          Name aendern (nur bei edit)

OPTIONEN FUER EXPORT:
  --type, -t      Nur bestimmten Kontext exportieren (arzt, privat, etc.)
  --format, -f    Exportformat: txt (default), csv, vcard
  --file, -o      Ausgabedatei (sonst Konsolen-Output)

KONTEXTE:
  privat        Freunde, Familie, Bekannte
  beruflich     Arbeitskollegen, Geschaeftskontakte
  versicherung  Versicherungsberater, Agenturen
  finanzen      Steuerberater, Bankberater
  arzt          Aerzte, Therapeuten, Apotheken
  sonstige      Alles andere

DATENBANK:
  Haupttabelle: bach.db / assistant_contacts
  Felder: id, name, context, email, phone, mobile, address, birthday,
          company, position, tags, notes, is_active, created_at, updated_at

  HINWEIS: vCard-Export nutzt zusaetzlich "contacts" Tabelle (Unified Schema)
           mit erweiterten Feldern (first_name, last_name, organization, etc.)

BEISPIELE:
  # Kontakt mit allen Details anlegen:
  bach contact add "Dr. Mueller" --context arzt --phone 030-12345 --email mueller@example.de --address "Hauptstr. 1, 10115 Berlin"

  # Beruflichen Kontakt mit Firma und Position:
  bach contact add "Lisa Schmidt" --context beruflich --company "Beispiel GmbH" --position "Teamlead" --tags "dev,it" --email lisa@example.com

  # Kontakt suchen:
  bach contact search Mueller

  # Telefonnummer und Firma aendern:
  bach contact edit 5 --phone 030-99999 --company "Neue GmbH" --note "Gewechselt ab Jan 2026"

  # Alle Versicherungskontakte:
  bach contact list -c versicherung

  # Wer hat bald Geburtstag?
  bach contact birthday 60

  # Export-Beispiele:
  bach contact export                              # Text-Format in Konsole
  bach contact export --format csv                 # CSV in Konsole
  bach contact export --type arzt --format csv     # Nur Arzt-Kontakte als CSV
  bach contact export --format vcard --file kontakte.vcf  # vCard in Datei
  bach contact export --file export.csv            # CSV in Datei

ZUSAMMENSPIEL:
  - Getrennt von health_contacts (Arzt-Kontakte im Gesundheitsmodul)
  - assistant_contacts = persoenliche Kontaktdatenbank (Standard-Operationen)
  - contacts = Unified-Tabelle (nur fuer vCard-Export)
  - GUI: Kontakte-Tab (wenn verfuegbar)

BEKANNTE EINSCHRAENKUNGEN:
  - "bach contact list --all" zeigt inaktive Kontakte OHNE visuelle Markierung
  - vCard-Export greift auf separate "contacts" Tabelle zu (nicht assistant_contacts)
  - Tags werden bei Search durchsucht, aber nicht in List-Ansicht angezeigt
