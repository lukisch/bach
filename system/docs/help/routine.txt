# Portabilitaet: USER
# Zuletzt validiert: 2026-02-08 (Help-Forensik v2 Registry-Based)
# Naechste Pruefung: 2026-08-08
# Ressourcen: [household_routines table, hub/routine.py]

ROUTINE - Haushaltsroutinen-Verwaltung
======================================

STAND: 2026-02-08

Das Routine-System (Schicht 3) verwaltet wiederkehrende Aufgaben im Haushalt
und privaten Bereich mit automatischer Intervall-Berechnung.

KERNKONZEPTE
------------
- FREQUENZ: Von täglich bis jährlich (automatische Neu-Terminierung).
- STATUS: Überfällige Aufgaben werden mit `!!!` markiert.
- ZENTRALISIERUNG: Alle Routinen liegen in `bach.db`.

CLI-BEFEHLE (bach routine)
--------------------------
  list [--all] [-c <Kategorie>]
                Übersicht aller aktiven Routinen.
                --all zeigt auch inaktive, -c filtert nach Kategorie.
                Beispiel: bach routine list -c Kueche

  show <ID>     Zeigt Details einer einzelnen Routine an.
                Beispiel: bach routine show 3

  due [Tage]    Zeigt fällige Aufgaben für den gewählten Zeitraum.
                Standard: 7 Tage. Beispiel: bach routine due 14

  done <ID> [ID2...] [--note "Text"]
                Markiert Routine(n) als erledigt und setzt neues Datum.
                Mehrere IDs möglich, optional mit Notiz.
                Beispiel: bach routine done 3 5 --note "Grundreinigung"

  add "Name" [--freq/-f <Freq>] [--cat/-c <Kat>] [--dur/-d <Min>] [--note <Text>] [--schedule <Zeit>]
                Erstellt neue Routine mit optionalen Parametern:
                --freq/-f   Frequenz (taeglich, woechentlich, monatlich, jaehrlich, etc.)
                --cat/-c    Kategorie (Kueche, Bad, Wohnzimmer, etc.)
                --dur/-d    Dauer in Minuten
                --note      Notiz
                --schedule  Zeitplan-Details
                Beispiel: bach routine add "Staubsaugen" --freq woechentlich --cat Wohnzimmer --dur 30

  help          Zeigt diese Hilfe an.

FREQUENZEN (vollständige Liste)
-------------------------------
Unterstützte Frequenz-Werte für --freq:
  taeglich, täglich, daily
  woechentlich, wöchentlich, weekly
  2-woechentlich, 2-wöchentlich, biweekly
  monatlich, monthly
  quartal, quarterly
  halbjaehrlich, halbjährlich
  jaehrlich, jährlich, yearly

ABM-SYNTAX
----------
Marker:
  !!!  = Überfällig
  +    = Aktiv
  -    = Inaktiv

DATENBANK (Schicht 1)
---------------------
- Tabelle: `household_routines` (in `bach.db`).
- Felder: id, name, frequency, schedule, category, duration_minutes,
          last_done, next_due, is_active, notes, created_at.
- Statistik: Variable Anzahl (abhängig von DB-Inhalt).

GUI & INTEGRATION
-----------------
Das **Haushalts-Dashboard** in der GUI zeigt den Status der Routinen visuell.
Routinen sind zudem im globalen `calendar` Handler integriert.

SIEHE AUCH
----------
  bach calendar         Kombinierte Termin- und Routine-Ansicht
  bach --help gesundheit  Zusätzliche Haushalts-Tools (Inventar)
  docs/docs/docs/help/maintain.txt     DB-Verschiebungs-Historie (User->Bach)
