# Portabilitaet: UNIVERSAL
# Zuletzt validiert: 2026-02-08
# Naechste Pruefung: 2026-08-08

DATENFORMATE
============

STAND: 2026-02-08

GRUNDREGEL: DATENBANK VOR JSON
------------------------------
BACH nutzt SQLite (`bach.db`) als primäre Datenhaltung (aktuell 116 Tabellen).
JSON-Dateien sind NUR in begründeten Ausnahmefällen erlaubt.

WANN DATENBANK (STANDARD)?
--------------------------
  - Persistente Systemdaten (Tools, Tasks, Config)
  - Historische Daten (Logs, Sessions, Lessons Learned)
  - Große Datensätze (Wiki, Med-Research)
  - Integrität (Hash-basierte Validierung)

WANN JSON ERLAUBT (AUSNAHMEN)?
------------------------------
1. KOMPLEXE HIERARCHIEN: `system/data/skills_hierarchy.json` (Interaktive Bäume).
2. LOCAL CONFIG: Falls individuell benötigt (z.B. UI-Präferenzen).
3. MCP-CONFIG: Falls Claude Desktop Integration gewünscht.
4. Kurzlebige Prozess-Daten: Temporäre Snapshots bei Bedarf.

ANDERE FORMATE
--------------
  - TOON:   Token-optimierte Datensätze für LLM-Injektion.
  - MD:     Dokumentation und Berichts-Ausgabe (`outbox/`).

MIGRATION JSON -> DB (Erfolgreich durchgeführt)
-----------------------------------------------
- `partner_registry.json` -> `partner_recognition` (Tabelle)
- `connections.json`      -> `connections` (Tabelle)
- `injectors.txt`         -> `automation_injectors` (Tabelle)
- `inbox_folders.txt`     -> `folder_scans` (Tabelle)

KONVERTIERUNG
-------------
  python system/tools/c_universal_converter.py <file> --to [json|yaml|toml|xml|toon]

SIEHE AUCH
----------
  docs/docs/docs/help/maintain.txt    Integritäts-Check und Seal-Mechanismus
  bach --db status     Aktueller Stand der 116 Tabellen
