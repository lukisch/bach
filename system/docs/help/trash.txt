# Portabilitaet: UNIVERSAL
# Version: 1.0.0
# Zuletzt validiert: 2026-02-08
# Naechste Pruefung: 2026-08-08

BACH Trash-Handler (Papierkorb-System)
======================================

Das Trash-System ermoeglicht Soft-Delete mit Wiederherstellung.

BEFEHLE
-------
bach trash list            Alle Papierkorb-Eintraege
bach trash delete PATH     Datei in Papierkorb
bach trash restore ID      Datei wiederherstellen
bach trash purge           Abgelaufene loeschen
bach trash info ID         Details anzeigen

OPTIONEN
--------
--dry-run    Aenderungen nur simulieren

BEISPIELE
---------
# Datei loeschen
bach trash delete ./alte_datei.txt

# Inhalt anzeigen
bach trash list

# Wiederherstellen
bach trash restore 5

# Abgelaufene bereinigen (30+ Tage)
bach trash purge --dry-run
bach trash purge

TECHNISCH
---------
- Handler: system/hub/trash.py
- Dateien werden nach system/data/trash/ verschoben
- Metadaten in DB-Tabelle: files_trash
- Standard-Aufbewahrung: 30 Tage (retention_days)
- Status: active, restored, purged

DATENBANK
---------
Tabelle: files_trash (system/db/schema.sql)
- id: PRIMARY KEY
- original_path: Urspruenglicher Pfad
- trash_path: Pfad im Papierkorb
- size: Dateigroesse in Bytes
- deleted_at: Loeschzeitpunkt (ISO-8601)
- deleted_by: Benutzername (default: "claude")
- retention_days: Aufbewahrung (default: 30)
- expires_at: Ablaufdatum (ISO-8601)
- status: active/restored/purged
- restored_at: Wiederherstellungszeitpunkt
- purged_at: Endgueltige Loeschung

SIEHE AUCH
----------
bach maintain help    Wartungs-Tools
bach backup help      Backup-System
bach trash help       Inline-Hilfe
