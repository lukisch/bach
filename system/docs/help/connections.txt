# Portabilitaet: UNIVERSAL
# Zuletzt validiert: 2026-02-08
# Naechste Pruefung: 2026-08-08
# Ressourcen: [connections table, hub/connector.py, docs/docs/docs/help/connector.txt]

CONNECTIONS - Verbindungen & Integrationen (Uebersicht)
=======================================================

STAND: 2026-02-08

Das Connections-System ist die zentrale Datenbank-Tabelle fuer ALLE
technischen Verbindungen in BACH. Es gibt ZWEI verschiedene Subsysteme
mit unterschiedlichen Zwecken:

1. CONNECTOR-SYSTEM (NEU, v2.0)
--------------------------------
Externe Kommunikationsverbindungen (Telegram, Discord, HomeAssistant).
Vollstaendiges Message-System mit Queue, Retry, Circuit Breaker.

**DETAILS → siehe docs/docs/docs/help/connector.txt**

CLI: bach connector <operation>
Operationen: list, status, add, remove, poll, dispatch, setup-daemon, etc.

Handler: hub/connector.py
Services: hub/_services/connector/queue_processor.py
API: gui/api/messages_api.py (4 REST-Endpoints)

2. AI/MCP-CONNECTIONS (LEGACY)
-------------------------------
Technische Infrastruktur fuer AI-Partner und MCP-Server.
Verwaltet Endpoints, API-Keys, OAuth-Tokens.

CLI: bach --connections list/show
Handler: hub/connections.py (?)

Typen:
  - AI-Partner: claude, ollama, gemini (Anthropic, Local, Google)
  - MCP-Server: pubmed, canva, gdrive (Model Context Protocol)

WICHTIG: CONNECTIONS vs PARTNER vs CONNECTOR
--------------------------------------------
- CONNECTIONS (Tabelle):  Zentrale Registry ALLER Verbindungen
- CONNECTOR   (Subsystem): Externe Kommunikation (Telegram, Discord, ...)
- PARTNER     (Logik):     Delegation & Expertise (WER macht WAS?)

DATENBANK-TABELLE
-----------------
Tabelle: connections
Felder:
  - name, type, category, endpoint, is_active
  - auth_type, auth_config (JSON mit Credentials)
  - success_count, error_count, last_used
  - consecutive_failures, disabled_until (Circuit Breaker, nur Connectors)

Kategorien (category):
  - 'connector':  Externe Kommunikation (Telegram, Discord, ...)
  - 'ai':         AI-Partner (Claude, Ollama, Gemini)
  - 'mcp':        MCP-Server (PubMed, Canva, ...)
  - 'api':        Sonstige APIs

VERWENDUNG
----------
Die meisten Nutzer benoetigen NUR das **Connector-System**.

Fuer externe Kommunikation (Telegram, Discord, HomeAssistant):
  → bach connector --help
  → docs/docs/docs/help/connector.txt (dedizierte Dokumentation)

Fuer AI-Partner und MCP-Server:
  → bach --connections list
  → bach --help partner

SIEHE AUCH
----------
  docs/docs/docs/help/connector.txt     Connector-System (Telegram, Discord, HA)
  bach --help partner    Logische Delegation & Zonen
  bach --help messages   Internes Nachrichtensystem
  bach --help daemon     Hintergrund-Jobs (poll_and_route, dispatch)
