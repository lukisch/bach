# Portabilitaet: UNIVERSAL
# Zuletzt validiert: 2026-01-28 (Gemini)
# Naechste Pruefung: 2026-07-28
# Quellen: [code:gui/static/js/skills-board.js], [db:bach.db]

SKILLS BOARD - GUI HIERARCHIE MANAGER
=====================================

Stand: 2026-01-28

WAS IST DAS SKILLS BOARD?
-------------------------
Das Skills Board ist die zentrale grafische Oberflaeche im BACH-Dashboard zur Verwaltung der Kompetenz-Hierarchie. Es visualisiert und steuert die Beziehungen zwischen Agenten, Experten und deren Faahigkeiten.

STRUKTUR & HIERARCHIE
---------------------
Das System basiert auf einer 5-stufigen Hierarchie (Farbcodes im UI):

1. [ROT]    AGENT     (Boss/Kopf)
   Verantwortlich fuer einen Bereich (z.B. "Bueroassistent"). Hat ein Dashboard und koordiniert Experten.

2. [GRUEN]  EXPERT    (Spezialist)
   Fachexperte unter einem Agenten (z.B. "Steuer-Agent"). Besitzt spezifisches Domain-Wissen.

3. [BLAU]   SKILL     (Faehigkeit/Verb)
   Aktion, die ausgefuehrt werden kann (z.B. "Recherche", "Datei speichern", "Email senden").

4. [DUNKELBLAU] SERVICE (Dienst)
   Hintergrund-Dienst oder Tool (z.B. "Scanner", "Daemon", "Mail-Sync").

5. [LILA]   WORKFLOW  (Ablauf)
   Definierte Kette von Aufgaben oder Standard-Prozedur (z.B. "Projekt-Aufnahme").

DATENHALTUNG
------------
Die Daten kommen aus zwei Quellen, die synchron gehalten werden muessen:

1. **bach.db (SQLite)**
   - Tabelle `bach_agents`: Stammdaten der Agenten (Name, Typ, Dashboard-Link).
   - Tabelle `bach_experts`: Stammdaten der Experten und Zuordnung zu Agenten.
   - *Dies ist die Source of Truth fuer Existenz und Stammdaten.*

2. **data/skills_hierarchy.json**
   - Speichert die Frontend-Struktur, Anzeigereihenfolge und visuelle Zuordnungen.
   - Enthaelt auch Zuweisungen von Skills, Services und Workflows zu Agenten (die nicht in der DB als Relation stehen).
   - *Wird fuer das Rendering des Boards genutzt.*

3. **skills/ Ordner**
   - Enthaelt die textbasierte Definition (Prompts/Anweisungen) fuer die KI.

FUNKTIONEN
----------
- **Drag & Drop**: Skills und Experten koennen Agenten zugewiesen werden.
- **Team Flow**: Visueller Builder, um Agenten und Skills zu einer Arbeitskette (Workflow) zu verknuepfen.
- **Task Delegation**: Direktes Erstellen von Tasks fuer spezifische Agenten aus dem Board.
- **Filter**: Ansicht nach Typ (nur Agenten, nur Skills etc.).
- **Edit**: Bearbeiten von Beschreibungen und Namen direkt im UI.

SYSTEM-INTEGRATION
------------------
- **Frontend**: `gui/static/js/skills-board.js`
- **Backend**: `gui/server.py` Endpoints `/api/skills-board/hierarchy`
- **Sync**: `fix_skills_hierarchy.py` (Script zur Bereinigung/Sync der JSON mit der DB)

SIEHE AUCH
----------
wiki/handbuch.txt        Uberblick ueber BACH
wiki/gemini.txt          Partner-Agent Dokumentation
skills/AGENT_KONVENTION.md    Technische Richtline fuer Agenten-Files
